"use client";
import { motion } from "framer-motion";
import styles from "./loading.module.css";
import { useEffect } from "react";

const draw = {
  hidden: { pathLength: 0, opacity: 0 },
  visible: {
    pathLength: 1,
    opacity: 1,
    strokeWidth: 10,
    strokeLinecap: "round",
    transition: {
      pathLength: { type: "spring", duration: 3, bounce: 0 },
      opacity: { duration: 0.01 },
    },
  },
};

export default function Loading() {
  useEffect(() => {
    const timer = setTimeout(() => {
      window.scrollTo(0, 0);
    }, 3 * 1000);
    return () => clearTimeout(timer);
  }, []);

  return (
    <motion.section
      className="fixed top-0 z-50 flex h-screen w-screen flex-col items-center justify-center bg-dark"
      initial="hidden"
      animate="visible"
      variants={{
        hidden: { x: 0 },
        // slide out
        visible: {
          x: "-100%",
          transition: { delay: 3, type: "spring", duration: 2 },
        },
      }}
    >
      <svg
        width="592"
        height="523"
        viewBox="0 0 592 523"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <motion.path
          d="M146.818 253L141.365 85.7269C141.346 85.166 141.284 84.6235 141.173 84.0734C135.457 55.6924 127.717 1.43503 141.337 5.18473C158.526 9.91688 143.828 54.2497 142.832 55.744C142.035 56.9395 96.3312 139.262 73.5791 180.274L62.8674 197.21C54.2197 213.36 30.304 240.977 8.24486 219.337C7.46018 218.567 6.80157 217.582 6.4044 216.557C-5.00828 187.104 55.7888 197.155 92.7606 193.973L495 187.561"
          stroke="#F2FDFF"
          // @ts-expect-error
          variants={draw}
        />
        <motion.path
          d="M179.502 120.174C174.595 139.375 167.726 176.729 179.502 172.54C194.221 167.303 205.947 148.85 210.188 120.174C213.581 97.2326 211.602 176.28 210.188 218.671C209.19 241.28 203.352 286.597 187.984 286.996C168.774 287.495 175.76 238.87 179.502 234.63L245.243 140.553C245.655 139.963 246.004 139.334 246.27 138.666C249.31 131.045 253.162 117.881 246.861 119.217C238.628 120.963 236.383 140.662 236.383 142.907C236.383 145.151 233.639 166.596 234.138 167.843C234.637 169.09 234.138 186.794 242.87 185.049C251.601 183.303 263.826 176.321 273.306 156.372C282.786 136.423 289.522 116.724 290.271 113.482C291.019 110.24 279.543 167.593 281.539 170.586C283.535 173.578 285.032 177.318 292.267 177.817C299.501 178.316 308.732 173.079 314.72 156.372C320.707 139.665 328.441 117.222 331.934 109.991C334.728 104.206 337.09 136.506 337.921 153.38C338.254 160.113 337.871 173.678 333.68 174.077C328.441 174.575 315.468 173.329 309.481 170.586C303.493 167.843 313.472 177.817 326.695 177.817C339.917 177.817 352.391 178.067 357.63 162.606C362.869 147.146 376.092 43.1623 371.601 29.9462C367.299 17.2866 363.685 32.0832 366.238 39.2693C366.456 39.8827 366.693 40.4874 366.789 41.1312C368.787 54.4733 375.366 170.453 376.092 174.077C376.84 177.817 379.085 139.416 380.083 126.449C381.081 113.482 391.559 111.737 400.291 113.482C409.023 115.228 416.507 120.464 417.006 129.94C417.505 139.416 420 173.827 420 176.57"
          stroke="#F2FDFF"
          // @ts-expect-error
          variants={draw}
        />
        <motion.path
          d="M373.752 336.068C356.002 336.068 336.953 375.094 341.752 388.202C347.752 404.587 363.502 397.388 368.502 390.685C373.502 383.982 379.252 372.065 380.252 360.149C381.252 348.233 381.252 333.834 377.252 334.33C373.252 334.827 365.752 367.349 369.752 376.286C373.752 385.223 376.502 397.636 387.502 400.367C398.502 403.098 407.002 389.692 411.001 383.485C415.001 377.279 419.501 354.439 419.501 351.708C419.501 348.978 423.251 331.103 417.751 331.103C412.251 331.103 409.251 351.212 409.251 356.922C409.251 362.632 403.252 388.202 416.501 396.146C429.751 404.091 438.251 396.395 446.751 378.272C455.251 360.149 459.001 350.467 459.501 347.736C460.001 345.005 461.251 334.33 458.251 334.33C455.251 334.33 444.001 349.722 440.751 368.093C437.501 386.464 439.751 393.167 441.501 396.146C443.251 399.126 453.001 415.759 470.001 400.119C487 384.478 502 341.53 506.25 310.498C509.65 285.672 511.5 262.584 512 254.143C511.917 248.351 511.2 236.616 509 236.021C506.8 235.425 502.583 247.854 500.75 254.143C496.584 267.301 488.1 295.801 487.5 304.54C486.75 315.463 484.25 389.443 487.5 396.146C490.1 401.509 502.917 412.283 509 417"
          stroke="#F2FDFF"
          // @ts-expect-error
          variants={draw}
        />
        <motion.path
          d="M266.923 235.155C258.787 324.148 245.402 505.308 256.96 518M237.531 238.13C243.011 231.932 258.554 220.083 276.887 222.264C299.803 224.991 319.232 246.806 322.719 270.356C326.206 293.905 325.21 380.172 322.719 388.6C320.567 395.88 315.744 421.818 272.154 429.255C237.282 435.204 199.172 422.774 193.194 421.57C187.216 420.366 172.42 414.331 173.018 406.201C173.765 396.037 219.846 398.516 219.846 398.516C242.596 399.921 290.885 403.474 302.045 406.448C315.993 410.167 490.105 423.305 502.56 426.032C515.014 428.759 570.56 436.196 587 444.624"
          stroke="#F2FDFF"
          // @ts-expect-error
          variants={draw}
        />
      </svg>
    </motion.section>
  );
}
